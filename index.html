<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Temporary Chat Room</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- PeerJS library for WebRTC connections -->
    <script src="https://unpkg.com/peerjs@1.4.7/dist/peerjs.min.js"></script>
    <!-- UUID library for generating room IDs -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/uuid/8.3.2/uuid.min.js"></script>
    <!-- Avatar generation script -->
    <script src="js/avatars.js"></script>
</head>

<body class="light-mode">
    <div class="container">
        <header>
            <h1>Temporary Chat Room</h1>
            <button id="theme-toggle" aria-label="Toggle dark mode">
                <i class="fas fa-moon"></i>
            </button>
        </header>

        <!-- Home screen (create/join room) -->
        <div id="home-screen">
            <div class="card">
                <h2>Create or Join a Room</h2>
                <div class="form-group">
                    <label for="username">Your Display Name</label>
                    <input type="text" id="username" placeholder="Enter your name" required>
                </div>
                <div class="avatar-selection">
                    <p>Select a profile picture:</p>
                    <div class="avatar-options">
                        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="
                            alt="Avatar 1" class="avatar" data-avatar="avatar1.png">
                        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="
                            alt="Avatar 2" class="avatar" data-avatar="avatar2.png">
                        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="
                            alt="Avatar 3" class="avatar" data-avatar="avatar3.png">
                        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="
                            alt="Avatar 4" class="avatar" data-avatar="avatar4.png">
                    </div>
                </div>
                <div class="action-buttons">
                    <button id="create-room-btn" class="primary-btn">Create New Room</button>
                    <div class="or-divider">OR</div>
                    <div class="form-group">
                        <label for="room-id">Join with Room ID</label>
                        <div class="join-input-group">
                            <input type="text" id="room-id" placeholder="Enter room ID">
                            <button id="join-room-btn" class="secondary-btn">Join Room</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Chat room screen (hidden initially) -->
        <div id="chat-room" class="hidden">
            <div class="room-info">
                <h2>Room: <span id="current-room-id"></span></h2>
                <div class="room-actions">
                    <button id="share-screen-btn" class="action-btn">
                        <i class="fas fa-desktop"></i> Share Screen
                    </button>
                    <button id="copy-room-id" class="action-btn">
                        <i class="fas fa-copy"></i> Copy Room ID
                    </button>
                    <button id="leave-room-btn" class="action-btn danger">
                        <i class="fas fa-sign-out-alt"></i> Leave Room
                    </button>
                </div>
            </div>

            <div class="chat-container">
                <div class="participants-section">
                    <h3>Participants</h3>
                    <ul id="participants-list"></ul>
                </div>

                <div class="main-chat-section">
                    <div class="screen-share-container hidden" id="screen-share-container">
                        <video id="screen-share-video" autoplay playsinline></video>
                        <div class="screen-share-info">
                            <span id="screen-share-user">Someone</span> is sharing their screen
                            <button id="stop-screen-share" class="danger-btn hidden">Stop Sharing</button>
                        </div>
                    </div>

                    <div class="messages-container" id="messages-container">
                        <!-- Messages will be added here dynamically -->
                    </div>

                    <div class="message-input">
                        <input type="text" id="message-input" placeholder="Type your message...">
                        <button id="send-message-btn">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/app.js"></script>
</body>

</html>